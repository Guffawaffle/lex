#!/bin/bash
# Pre-push hook: Run faux CI before allowing push
# Install: git config core.hooksPath .githooks
#
# NOTE: Does NOT run tests - tests may include git commands that hang.
# Use `npm run local-ci` for full CI including tests.
set -e

echo "ğŸ” Running pre-push checks..."
echo ""

# Quick checks only (no tests - they may invoke git commands)
echo "==> Checking TypeScript..."
npm run type-check || { echo "âŒ TypeScript check failed"; exit 1; }

echo ""
echo "==> Checking lint..."
npm run lint || { echo "âŒ Lint check failed"; exit 1; }

echo ""
echo "âœ… Pre-push checks passed!"
echo "â„¹ï¸  Run 'npm run local-ci' for full CI including tests."
