# v0.3.0 Release Notes

> **Date:** 2025-11-08
> **Tag:** v0.3.0 (commit: 867d788ca9e140809190092e827e8b17b263f9d9)
> **Status:** Tag exists, GitHub release pending

## What's Changed

### ⚠️ Breaking Changes

- **Module ID Validation Strictness** ([#119](https://github.com/Guffawaffle/lex/pull/119)): Substring matching is now disabled
  - **Previous behavior**: `'auth-core'` would match `'services/auth-core'` automatically
  - **New behavior**: Only exact matches or explicit aliases are accepted
  - **Migration**: Add explicit aliases to your policy files if you relied on substring matching

### Features

- **O(1) Policy Lookup Caching** ([#117](https://github.com/Guffawaffle/lex/pull/117))
  - WeakMap-based caching for module ID validation
  - 1000-module policy validates in ~0.003ms (same as 10-module)
  - Performance improved by ~55% over baseline

- **Graceful FTS5 Error Handling** ([#120](https://github.com/Guffawaffle/lex/pull/120))
  - Special characters in search queries no longer cause failures
  - Returns empty results instead of propagating SQLITE_ERROR

### Fixes

- **ESM Compatibility** ([#118](https://github.com/Guffawaffle/lex/pull/118)): Fixed CommonJS `require()` in ES module tests
- **Benchmark Accuracy** ([#117](https://github.com/Guffawaffle/lex/pull/117)): Tests now properly await async validation
- **Build Cleanup** ([#119](https://github.com/Guffawaffle/lex/pull/119)): Added `tsconfig.tsbuildinfo` to `.gitignore`

### Documentation

- Comprehensive updates for single-package structure ([#112](https://github.com/Guffawaffle/lex/pull/112))
- Updated import patterns from `@lex/*` to relative paths
- Simplified build documentation

### Dependencies

- No dependency changes

---

**Full Changelog**: https://github.com/Guffawaffle/lex/compare/v0.2.0...v0.3.0

---

## Create Release Command

```bash
gh release create v0.3.0 \
  --title "v0.3.0" \
  --notes-file docs/releases/v0.3.0-release-notes.md \
  --verify-tag
```
